<ion-content class="login-container">
  <div class="header-title">
    <h1>Carbik</h1>
  </div>

  <div class="content-wrapper">
    <div class="text-section">
      <p>🏎️ Si vives con el motor en la sangre, esta es tu comunidad. 🏍️</p>
      <p>
        Hemos creado una red social pensada para quienes no entienden la vida
        sin ruedas, sin ruido de escapes y sin olor a gasolina. Aquí puedes:
      </p>
      <p>
        🚗 Montar tu garaje digital y presumir de tus coches, motos y proyectos.
      </p>
      <p>
        📲 Subir tus mejores fotos, rutas, modificaciones y momentos sobre el
        asfalto.
      </p>
      <p>
        🛠️ Compartir tu pasión con gente como tú: real, auténtica y con amor por
        el motor.
      </p>
      <p>
        💸 Y si estás pensando en comprar o vender, nuestro apartado de ventas
        está hecho para facilitarte todo.
      </p>
      <p>No es solo una app. Es tu espacio, tu comunidad, tu mundo.</p>
      <p>Todo lo que nos mueve, en un solo lugar.</p>
      <p>🔥 Únete ahora y empieza a vivir el motor como siempre lo soñaste.</p>
    </div>

    <div class="form-section">
      <div class="form-box">
        <div class="form-tabs">
          <div
            class="tab"
            [class.active]="segment === 'login'"
            (click)="segment = 'login'"
          >
            Login
          </div>
          <div
            class="tab"
            [class.active]="segment === 'registro'"
            (click)="segment = 'registro'"
          >
            Registro
          </div>
        </div>

        <!-- Formulario de LOGIN -->
        <form
          *ngIf="segment === 'login'"
          (ngSubmit)="login()"
          class="auth-form"
        >
          <ion-item>
            <ion-label position="floating">Correo o usuario</ion-label>
            <ion-input
              type="text"
              [(ngModel)]="credentials.username"
              name="username"
              required
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input
              type="password"
              [(ngModel)]="credentials.password"
              name="password"
              required
            ></ion-input>
          </ion-item>

          <ion-button expand="full" type="submit" class="submit-btn"
            >Iniciar Sesión</ion-button
          >
        </form>

        <!-- Formulario de REGISTRO -->
        <!-- Formulario de REGISTRO -->
        <form
          *ngIf="segment === 'registro'"
          (ngSubmit)="register()"
          class="auth-form"
          [formGroup]="registroForm"
        >
          <ion-item>
            <ion-label position="floating">Nombre *</ion-label>
            <ion-input
              type="text"
              formControlName="nombre"
              name="nombre"
            ></ion-input>
          </ion-item>
          <div
            class="error-message"
            *ngIf="(f['nombre'].touched || submitted) && f['nombre'].errors?.['required']"
          >
            El nombre es obligatorio
          </div>

          <ion-item>
            <ion-label position="floating">Apellidos</ion-label>
            <ion-input
              type="text"
              formControlName="apellidos"
              name="apellidos"
            ></ion-input>
          </ion-item>

          <ion-item>
            <ion-label position="floating">Nombre de Usuario *</ion-label>
            <ion-input
              type="text"
              formControlName="nombreUsuario"
              name="nombreUsuario"
            ></ion-input>
          </ion-item>
          <div
            class="error-message"
            *ngIf="(f['nombreUsuario'].touched || submitted) && f['nombreUsuario'].errors?.['required']"
          >
            El nombre de usuario es obligatorio
          </div>
          <div class="error-message" *ngIf="errorMessages['nombreUsuario']">
            {{ errorMessages["nombreUsuario"] }}
          </div>

          <ion-item>
            <ion-label position="floating">Correo electrónico *</ion-label>
            <ion-input
              type="email"
              formControlName="correo"
              name="correo"
            ></ion-input>
          </ion-item>
          <div
            class="error-message"
            *ngIf="(f['correo'].touched || submitted) && f['correo'].errors?.['required']"
          >
            El correo es obligatorio
          </div>
          <div
            class="error-message"
            *ngIf="(f['correo'].touched || submitted) && f['correo'].errors?.['email']"
          >
            Ingresa un correo válido
          </div>
          <div class="error-message" *ngIf="errorMessages['correo']">
            {{ errorMessages["correo"] }}
          </div>

          <ion-item>
            <ion-label position="floating">Contraseña *</ion-label>
            <ion-input
              type="password"
              formControlName="contrasena"
              name="contrasena"
            ></ion-input>
          </ion-item>
          <div
            class="error-message"
            *ngIf="(f['contrasena'].touched || submitted) && f['contrasena'].errors?.['required']"
          >
            La contraseña es obligatoria
          </div>
          <div
            class="error-message"
            *ngIf="(f['contrasena'].touched || submitted) && f['contrasena'].errors?.['minlength']"
          >
            La contraseña debe tener al menos 6 caracteres
          </div>

          <ion-item lines="none">
            <ion-label>Cuenta privada</ion-label>
            <ion-toggle
              formControlName="privado"
              (ionChange)="comprobacionPrivacidad($event)"
            ></ion-toggle>
          </ion-item>

          <ion-button
            expand="full"
            type="submit"
            class="submit-btn"
            [disabled]="registroForm.invalid"
          >
            Registrarse
          </ion-button>
        </form>
      </div>
    </div>
  </div>
  <link
    href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />
</ion-content>
