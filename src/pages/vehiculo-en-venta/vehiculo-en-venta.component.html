<ion-header class="header-custom">
  <ion-toolbar>
    <div class="header-container">
      <button class="header-btn header-left" [routerLink]="['/siguiendo']">
        <i class="fas fa-user-friends"></i>
        <span>Siguiendo</span>
      </button>

      <div class="header-title">
        <img src="/assets/logoRueda.png" alt="Logo" />
      </div>

      <button class="header-btn cerrar-sesion" (click)="cerrarSesion()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Cerrar Sesión</span>
      </button>
    </div>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding main-feed">
  <ion-grid fixed>
    <ion-row>
      <ion-col
        size="12"
        size-md="4"
        size-lg="4"
        *ngFor="let vehiculo of vehiculos">
     <ion-avatar>
        <img *ngIf="vehiculo.usuario?.fotoPerfil" [src]="backendUrl + vehiculo.usuario.fotoPerfil">
      </ion-avatar>
      <h2>
        <a [routerLink]="['/perfilUsuario', vehiculo.usuario.id]" style="text-decoration: none; color: inherit;">
          {{ vehiculo.usuario?.nombreUsuario }}
        </a>
      </h2>
        <ion-card class="vehiculo-card">
           <img
        *ngFor="let foto of vehiculo.fotos"
        [src]="backendUrl + foto.url"
        alt="Foto de vehículo"
        style="width: 100%; margin-bottom: 10px;"/>
          <ion-card-header>
            <ion-card-title>
              {{ vehiculo.marca }} {{ vehiculo.modelo }}
            </ion-card-title>
            <ion-card-subtitle>{{ vehiculo.anio }} | {{ vehiculo.precio | currency:'EUR' }}</ion-card-subtitle>
          </ion-card-header>
          <ion-card-content>
            <p>{{ vehiculo.descripcion }}</p>
            <ion-button
              expand="block"
              fill="outline"
              color="primary"
              [routerLink]="['/vehiculo', vehiculo.id]"
            >
              Ver Detalles
            </ion-button>
          </ion-card-content>
        </ion-card>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-footer class="footer-custom">
  <div class="footer-container">
    <div class="footer-left">
      <a href="#" class="footer-link"><i class="fab fa-instagram"></i></a>
      <a href="#" class="footer-link"><i class="fab fa-twitter"></i></a>
      <a href="#" class="footer-link"><i class="fab fa-facebook"></i></a>
    </div>
    <div class="footer-center">
      <span>© 2025 CARBIK</span>
    </div>
    <div class="footer-right">
      <a href="#" class="footer-link">Política de Privacidad</a>
      <a href="#" class="footer-link">Contacto</a>
    </div>
  </div>
</ion-footer>
